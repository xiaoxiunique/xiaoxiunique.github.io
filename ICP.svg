<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="351px" preserveAspectRatio="none" style="width:894px;height:351px;" version="1.1" viewBox="0 0 894 351" width="894px" zoomAndPan="magnify"><defs><filter height="300%" id="f8tg94fvx4tco" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[f7a40f114630c71e877f6912ba311671]
cluster ICP 接口隔离原则--><polygon fill="#DDDDDD" filter="url(#f8tg94fvx4tco)" points="22,24,145,24,152,49.1201,872,49.1201,872,339,22,339,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="152" y1="49.1201" y2="49.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="26" y="42.0439">ICP 接口隔离原则</text><!--MD5=[585a841e385a8e6a16ac8b9497710035]
class ICache--><rect fill="#FEFECE" filter="url(#f8tg94fvx4tco)" height="93.0688" id="ICache" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="412" y="62"/><ellipse cx="441.4" cy="78" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M437.9938,72.2813 L437.9938,71.875 L444.3063,71.875 L444.3063,72.2813 L441.775,72.2813 Q441.775,72.2813 441.9234,72.4141 Q442.0719,72.5469 442.0719,72.8125 L442.0719,82.2969 Q442.0719,82.5625 442.2906,82.6953 Q442.5094,82.8281 442.5094,82.8281 L444.3063,82.8281 L444.3063,83.2344 L437.9938,83.2344 L437.9938,82.8281 L439.525,82.8281 Q439.8531,82.8281 439.9859,82.6953 Q440.1188,82.5625 440.1188,82.2969 L440.1188,72.8125 Q440.1188,72.5469 439.9859,72.4141 Q439.8531,72.2813 439.525,72.2813 L437.9938,72.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="458.6" y="83.5576">ICache</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="413" x2="515" y1="94" y2="94"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="413" x2="515" y1="102" y2="102"/><ellipse cx="423" cy="113" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="432" y="118.606">Object get()</text><ellipse cx="423" cy="128.0229" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="432" y="133.6289">void put()</text><ellipse cx="423" cy="143.0459" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="432" y="148.6519">boolean delete()</text><!--MD5=[0a329e4edaefce1b2cb0402534a1ac3e]
class IRefresh--><rect fill="#FEFECE" filter="url(#f8tg94fvx4tco)" height="63.0229" id="IRefresh" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="269.5" y="77"/><ellipse cx="297.1" cy="93" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M293.6938,87.2813 L293.6938,86.875 L300.0063,86.875 L300.0063,87.2813 L297.475,87.2813 Q297.475,87.2813 297.6234,87.4141 Q297.7719,87.5469 297.7719,87.8125 L297.7719,97.2969 Q297.7719,97.5625 297.9906,97.6953 Q298.2094,97.8281 298.2094,97.8281 L300.0063,97.8281 L300.0063,98.2344 L293.6938,98.2344 L293.6938,97.8281 L295.225,97.8281 Q295.5531,97.8281 295.6859,97.6953 Q295.8188,97.5625 295.8188,97.2969 L295.8188,87.8125 Q295.8188,87.5469 295.6859,87.4141 Q295.5531,87.2813 295.225,87.2813 L293.6938,87.2813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="47" x="313.9" y="98.5576">IRefresh</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="270.5" x2="375.5" y1="109" y2="109"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="270.5" x2="375.5" y1="117" y2="117"/><ellipse cx="280.5" cy="128" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="289.5" y="133.606">boolean rebuild()</text><!--MD5=[63f89db6b2fd35d426a18104e41e0730]
class CacheImpl--><rect fill="#FEFECE" filter="url(#f8tg94fvx4tco)" height="108.0918" id="CacheImpl" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="340.5" y="215"/><ellipse cx="362.25" cy="231" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M360.8281,236.3594 Q358.9688,236.3594 357.875,234.9688 Q356.7813,233.5781 356.7813,230.5938 Q356.7813,228.0625 357.9453,226.4063 Q359.1094,224.75 361.0938,224.75 Q362.5625,224.75 363.0313,224.875 Q363.5,225.0781 363.5,225.0781 Q363.5,225.0781 363.5,225.0078 Q363.5,224.9375 364.1094,224.0156 L365.1563,227.6719 L363.8281,228.0781 Q363.3594,226.5313 362.6953,225.8672 Q362.0313,225.2031 360.9688,225.2031 Q360.5781,225.2031 359.8125,226.7344 Q359.0469,228.2656 359.0469,230.5156 Q359.0469,232.9844 359.7109,234.375 Q360.375,235.7656 360.9063,235.7656 Q361.9688,235.7656 362.7266,235 Q363.4844,234.2344 363.8281,232.5781 L365.1563,233.1719 Q364.8281,234.5781 363.9297,235.4688 Q363.0313,236.3594 360.8281,236.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="377.75" y="236.5576">CacheImpl</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="341.5" x2="446.5" y1="247" y2="247"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="341.5" x2="446.5" y1="255" y2="255"/><ellipse cx="351.5" cy="266" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="360.5" y="271.606">Object get()</text><ellipse cx="351.5" cy="281.0229" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="360.5" y="286.6289">void put()</text><ellipse cx="351.5" cy="296.0459" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="360.5" y="301.6519">boolean delete()</text><ellipse cx="351.5" cy="311.0688" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="360.5" y="316.6748">boolean rebuild()</text><path d="M38.5,237.5 L38.5,300.7632 A0,0 0 0 0 38.5,300.7632 L305.5,300.7632 A0,0 0 0 0 305.5,300.7632 L305.5,273 L340.444,269 L305.5,265 L305.5,247.5 L295.5,237.5 L38.5,237.5 A0,0 0 0 0 38.5,237.5 " fill="#FBFB77" filter="url(#f8tg94fvx4tco)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M295.5,237.5 L295.5,247.5 L305.5,247.5 L295.5,237.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="246" x="44.5" y="257.3979">将 get put delete rebuild 分别定义两个接口</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="44.5" y="275.1523">这样就达到了 ICP 接口隔离原则。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="48.5" y="292.9067"/><path d="M482.5,255 L482.5,265 L447.711,269 L482.5,273 L482.5,282.7544 A0,0 0 0 0 482.5,282.7544 L855.5,282.7544 A0,0 0 0 0 855.5,282.7544 L855.5,265 L845.5,255 L482.5,255 A0,0 0 0 0 482.5,255 " fill="#FBFB77" filter="url(#f8tg94fvx4tco)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M845.5,255 L845.5,265 L855.5,265 L845.5,255 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="352" x="488.5" y="274.8979">在不需要 使用 rebuild 的场景就不实现 IRefresh 接口就可以了</text><!--MD5=[6ea60269c7a56b12f932572b74cbd36f]
reverse link ICache to CacheImpl--><path d="M435.505,174.021 C429.49,187.639 423.21,201.859 417.409,214.995 " fill="none" id="ICache&lt;-CacheImpl" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="429.27,170.812,443.753,155.345,442.076,176.468,429.27,170.812" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[023ca341707157813fb7ae5b537b6fb5]
reverse link IRefresh to CacheImpl--><path d="M344.984,158.576 C352.961,176.386 362.01,196.586 370.142,214.739 " fill="none" id="IRefresh&lt;-CacheImpl" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="338.477,161.174,336.69,140.06,351.254,155.451,338.477,161.174" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c758fc8130a3d0e57bc81b82c5697ada]
@startuml
package "ICP 接口隔离原则" #DDDDDD {
    interface ICache {
        +Object get()
        +void put()
        +boolean delete()
    }

    interface IRefresh {
        +boolean rebuild()
    }

    class CacheImpl {
        +Object get()
        +void put()
        +boolean delete()
        +boolean rebuild()
    }
    note left of CacheImpl
    将 get put delete rebuild 分别定义两个接口
    这样就达到了 ICP 接口隔离原则。

    end note

    note right of CacheImpl
        在不需要 使用 rebuild 的场景就不实现 IRefresh 接口就可以了
    end note

    ICache <|- - CacheImpl
    IRefresh <|- - CacheImpl
}
@enduml

PlantUML version 1.2020.10(Sun May 17 17:35:57 CST 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_91-b14
Operating System: Windows 10
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>