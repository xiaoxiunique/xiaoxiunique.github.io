(window.webpackJsonp=window.webpackJsonp||[]).push([[333],{1012:function(s,a,t){"use strict";t.r(a);var n=t(20),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h3",{attrs:{id:"命令行快捷键"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令行快捷键"}},[s._v("#")]),s._v(" 命令行快捷键")]),s._v(" "),t("p",[t("strong",[t("code",[s._v("Ctrl + A")])]),s._v(" 光标跳到一行命令的开头。一般来说，Home 键有相同的效果")]),s._v(" "),t("p",[t("strong",[t("code",[s._v("Ctrl + E")])]),s._v(" 光标跳到一行命令的结尾。一般来说，End 键有相同的效果")]),s._v(" "),t("p",[t("strong",[t("code",[s._v("Ctrl + U")])]),s._v(" 删除所有在光标左侧的命令字符")]),s._v(" "),t("p",[t("strong",[t("code",[s._v("Ctrl + K")])]),s._v(" 删除所有在光标右侧的命令字符")]),s._v(" "),t("p",[t("strong",[t("code",[s._v("Ctrl + W")])]),s._v(" 删除光标左侧的一个“单词”，这里的“单词”指的是用空格隔开的一个字符串。例如 -a 就是一个“单词”；")]),s._v(" "),t("h3",{attrs:{id:"watch-定时执行命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#watch-定时执行命令"}},[s._v("#")]),s._v(" Watch 定时执行命令")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("watch")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n")])])]),t("h3",{attrs:{id:"其他"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[s._v("#")]),s._v(" 其他")]),s._v(" "),t("p",[t("strong",[t("code",[s._v("du -sh")])]),s._v(" 查看文件夹的总大小")]),s._v(" "),t("p",[t("code",[s._v("df -h")]),s._v(" 查看磁盘总使用 和 剩余量")]),s._v(" "),t("h3",{attrs:{id:"安装-lrzsz"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-lrzsz"}},[s._v("#")]),s._v(" 安装 lrzsz")]),s._v(" "),t("blockquote",[t("p",[s._v("对于传送少量文件特别好用, 不需要借助 "),t("code",[s._v("FTP")]),s._v(" 等工具")])]),s._v(" "),t("p",[s._v("编辑 "),t("code",[s._v("crontab")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" -e\n")])])]),t("p",[s._v("查看 "),t("code",[s._v("crontab")]),s._v("列表")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("crontab -l\n")])])]),t("p",[s._v("追加内容shell")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(">>\n")])])]),t("p",[s._v("覆盖内容")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(">\n")])])]),t("p",[s._v("建立软连接")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ln -s /usr/local/home/node/node-v10.15.3-linux-x64/bin/node node\n")])])]),t("p",[s._v("获取服务器各个状态下的连接数")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("netstat -n | awk '/^tcp/{++S[$NF]}END{for (a in S) print a, S[a]}'\n")])])]),t("p",[s._v("awk 命令")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("awk -F ',' '{print $1, $2}'\n")])])]),t("p",[t("strong",[s._v("sed")])]),s._v(" "),t("p",[t("strong",[s._v("java 如何加载.class字节码文件")])]),s._v(" "),t("p",[s._v("自动启动脚本")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('\n#/bin/bash\n\n# 门店服务主目录\nmenderyWorkspace="/var/lib/jenkins/workspace/lk-mendery-truck/lk-truck-mendery-webfront/target"\n\n# 进入主目录\ncd $menderyWorkspace\n\n# 打印当前当前文件夹路径\necho $(pwd)\n\n# 查找文件\n​```shell\nfind ~ -iname "wenjian"\n')])])]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 记录错误信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("handleErr")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 判断文件夹是否存在")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"errorLog"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 文件不存在 创建文件")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" errorLog\n   "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 判断日志文件是否存在")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" -x "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"nohup.log"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日志文件不存在 直接返回")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" nohup.log\n   "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拷贝最近的错误日志")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -2000 nohup.log "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ./errorLog/"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%Y%m%d"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(".log\n\n   "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"record message for error"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 判断现在主进程是否在运行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("cur")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lk-truck-mendery-webfront"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"grep"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" cur\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果现在进程存活, 不进行处理")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$cur")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"the service is alive"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    handleErr\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The service was shutdown!"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Starting service..."')]),s._v("\n    java -Dspring.profile.active"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("pro -jar lk-truck-mendery-webfront-1.0.0-SNAPSHOT.jar "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" nohup.log "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);